<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="Author" content="kiwon">
    <meta name="keywords" content="R, Programming Engineering">
    <meta name="description" content="Programming Application, 프로그래밍 응용 수업">
    <meta name="og:title" content="USEWORLD">
    <meta name="og:type" content="university">
    <meta name="og:url" content="http://kiwon.github.io/se.ProgrammingApplication//">

    <!--    <meta name="viewport" content="width=1280">-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <title>Programming Application: week.08 R 함수 및 패키지 R Function and Package</title>

    <!-- icon -->
    <link rel="shortcut icon" href="../../img/poster.r.png">
    <link rel="apple-touch-icon" href="../../img/poster.r.png">


    <!--    addThis-->
    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5416a0751fa00b83"></script>

    <!-- CSS -->
    <link rel="stylesheet" href="../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/custom.css">

    <!-- JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
    <script src="../../js/custom.js"></script>
    <!-- Basic layout and information -->
    <!--code syntax highlight-->
    <link rel="stylesheet" href="../../css/monokai_sublime.css">
    <script src="../../js/highlight.pack.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script>

    <!--
        Information
        describe page information

    -->
    <base target="_blank">
</head>

<body>
    <div class="top"></div>
    <div class="container" id="cs-nav">
        <a target="_self" class="navbar-brand" id="cs-home" href="../../">Programming Application</a>
        <button class="navbar-toggle" data-toggle="collapse" data-target=".navHeaderCollapse"> F

        </button>

        <div class="collapse navbar-collapse navHeaderCollapse">
            <ul class="nav navbar-nav">
                <li><a target="_self" href="../syllabus">SYLLABUS</a>
                </li>
                <li><a target="_self" href="../start">START</a>
                </li>

                </li>
                <li class="dropdown">
                    <a target="_self" class="dropdown-toggle" data-toggle="dropdown" href="#">COURSE
          <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a target="_self" href="../week01">week.01 : 공학프로그래밍의 이해</a>
                        </li>
                        <li><a target="_self" href="../week02">week.02 : Linux/Unix-Like OS 및 응용 소프트웨어</a>
                        </li>
                        <li><a target="_self" href="../week03">week.03 : 웹과 위키시스템</a>
                        </li>
                        <li><a target="_self" href="../week04">week.04 : R 프로그래밍 및 개발환경</a>
                        </li>
                        <li><a target="_self" href="../week05">week.05 : R 프로그래밍 기초 및 데이터 타입</a>
                        </li>
                        <li><a target="_self" href="../week06">week.06 : 데이터 파일 및 구조</a>
                        </li>
                        <li><a target="_self" href="../week07">week.07 : 그래픽 구현</a>
                        </li>
                        <li><a target="_self" href="../week08">week.08 : R 함수 및 패키지</a>
                        </li>
                        <li><a target="_self" href="../week09">week.09 : 중간고사</a> </li>
                        <li><a target="_self" href="../week10">week.10 : R 언어를 이용한 수치(개방법)</a> </li>
                        <li><a target="_self" href="../week11">week.11 : R 언어를 이용한 수치해석(보간법)</a> </li>
                        <li><a target="_self" href="../week12">week.12 : R 언어를 이용한 수치해석(회귀분석)</a> </li>
                        <li><a target="_self" href="../week13">week.13 : R 언어를 이용한 수치해석(수치 미분)</a> </li>
                        <li><a target="_self" href="../week14">week.14 : R 언어를 이용한 수치해석(수치 적분)</a> </li>
                        <li><a target="_self" href="../week15">week.15 : 최종 프로젝트 발표 및 토론</a> </li>
                    </ul>
                </li>

            </ul>


        </div>
    </div>
    <div class="container">




        <section class="row">




            <div class="block toc">
                <!--start of toc-->


                <h1><strong>Week.08</strong> : R 함수 및 패키지 <small>R Function And Package</small></h1>
                <b>Table of Contents</b>
                <ul class="numeric-decimals">
                    <li>
                        <a target="_self" href="#package-download">패키지 다운로드 <small>Package Download</small>
                        <ul>
                            <li>
                                <a target="_self" href="#install-package-with-rstudio">RStudio에서 패키지 설치 <small>Install Package with RStudio</small>
                                </a>
                            </li>
                            <li>
                                <a target="_self" href="#install-package-with-cran">CRAN 서버에서 설치 <small>Install Pckage with CRAN</small>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a target="_self" href="#package-setting">패키지 설정 <small>Package Setting</small>
                        <ul>
                            <li>
                                <a target="_self" href="#checking-library-path">Checking Library Path
                                </a>
                            </li>
                            <li>
                                <a target="_self" href="#finding-installed-package">Finding installed package
                                </a>
                            </li>
                            <li>
                                <a target="_self" href="#add-library-path">Add Library Path
                                </a>
                            </li>
                            <li>
                                <a target="_self" href="#install-package">Install Package
                                </a>
                            </li>
                            <li>
                                <a target="_self" href="#loading-packages">Loading Packages
                                </a>
                            </li>
                            <li>
                                <a target="_self" href="#help">Help
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a target="_self" href="#useage-of-additional-packages">추가 패키지 사용 <small>Useage of Additional Packages</small>
                        <ul>
                            <li>
                                <a target="_self" href="#ggplot2">ggplot2
                                </a>
                            </li>
                            <li>
                                <a target="_self" href="#plyr">plyr
                                </a>
                            </li>
                            <li>
                                <a target="_self" href="#stringr">stringr
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!--end of toc-->

            
            

            <div class="block ">
                <!-- start of contents-->
      
           

<h1>R 함수 및 패키지 R Function and Package</h1>

<br>

<h2>패키지 다운로드 Pakage Download</h2>

<p>
 사용가능한 패키지는 <i>CRAN</i>(<b>C</b>omprehensive <b>R</b> <b>A</b>rchive <b>N</b>etwork)에서 확인 할 수 있다.
</p>

<p>
</p><ul style="padding-left: 30pt">
<li>Table of available packages, sorted by date of publication [<a href="http://cran.nexr.com/web/packages/available_packages_by_date.html" title="Link" class="http">Link</a>]</li>
<li>Table of available packages, sorted by name [<a href="http://cran.nexr.com/web/packages/available_packages_by_name.html" title="Link" class="http">Link</a>]</li>
</ul>
<p></p>

<h3>RStudio에서 패키지 설치 Install Package with RStudio</h3>

<p>
 RStudio에의 Packages 탭에서 Install을 클릭하면 Install Packages 창이 나타난다. Packages 칸에 원하는 패키지를 입력하고 Install을 클릭하면 기본 경로에 패키지가 설치된다.
</p>

<p>
<img class="img-responsive" src="index_files/pkg_002.png" width="450">
</p>

<h3>CRAN 서버에서 설치 Install Package with CRAN</h3>

<p>
 CRAN 홈페이지에서 원하는 패키지를 클릭하면 Package source를 다운받을 수 있다. 다운받은 후 패키지 기본 위치에 압축을 풀어 저장할 수 있다.
</p>

<p>
<img class="img-responsive"  src="index_files/pkg.png">
</p>

<h2>패키지 설정 Package Setting</h2>

<br>

<h3>Checking Library Path</h3>

<pre style="padding-left: 30pt">&gt; .libPaths()
[1] "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0"
[2] "/usr/local/lib/R/site-library"                
[3] "/usr/lib/R/site-library"                      
[4] "/usr/lib/R/library"
</pre>

<br>

<h3>Finding installed package</h3>

<pre style="padding-left: 30pt">&gt; installed.packages()
			 Package        LibPath                                         Version     Priority      Depends                                          
bitops       "bitops"       "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "1.0-6"     NA            NA                                               
caTools      "caTools"      "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "1.17.1"    NA            "R (&gt;= 2.2.0)"                                   
colorspace   "colorspace"   "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "1.2-6"     NA            "R (&gt;= 2.13.0), methods"                         
dichromat    "dichromat"    "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "2.0-0"     NA            "R (&gt;= 2.10), stats"                             
digest       "digest"       "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "0.6.8"     NA            "R (&gt;= 2.4.1)"                                   
epiR         "epiR"         "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "0.9-62"    NA            "R (&gt;= 3.0.0), survival"                         
evaluate     "evaluate"     "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "0.5.5"     NA            "R (&gt;= 2.14.0)"                                  
formatR      "formatR"      "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "1.0"       NA            NA                                               
ggplot2      "ggplot2"      "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "1.0.1"     NA            "R (&gt;= 2.14), stats, methods"                    
gtable       "gtable"       "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "0.1.2"     NA            "R (&gt;= 2.14), grid"                              
highr        "highr"        "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "0.4"       NA            NA                                               
htmltools    "htmltools"    "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "0.2.6"     NA            "R (&gt;= 2.14.1)"                                  
knitr        "knitr"        "/home/kiwon/R/x86_64-pc-linux-gnu-library/3.0" "1.8"       NA            "R (&gt;= 2.14.1)"
...
</pre>

<br>

<h3>Add Library Path</h3>

<p>
<pre style="padding-left: 30pt">.libPaths( "~/Copy/R/lib")
</pre>
<p></p>

<br>

<h3>Install Package</h3>

<p>

<pre style="padding-left: 30pt">&gt; install.packages("mvtnorm","~/Copy/R/lib")</pre>

<p></p>

<br>

<h3>Loading Packages</h3>

<p>
<pre style="padding-left: 30pt">
&gt; library(MASS)	# loading MASS package
&gt; require(MASS)	# loading MASS package
</pre>
<p></p>

<br>

<h3>Help</h3>
<p>

<pre style="padding-left: 30pt">&gt; library(help=MPSS)</pre>
<p></p>

<br>

<h2>추가 패키지 사용 Useage of Additional Packages</h2>

<br>

<h3>ggplot2</h3>

<p>
그래픽 구현 패키지 [<a href="http://cran.nexr.com/web/packages/ggplot2/index.html" title="cran" class="http">cran</a>]
</p>
	<pre><code class="r">&nbsp;library(ggplot2)
&nbsp;
&nbsp;pp &lt;- function (n,r=4) { x &lt;- seq(-r*pi, r*pi, len=n)
                df &lt;- expand.grid(x=x, y=x)
                df$r &lt;- sqrt(df$x^2 + df$y^2)
                df$z &lt;- cos(df$r^2)*exp(-df$r/6)
                df }

&nbsp;qplot(x, y, data = pp(20, 2), fill=z, geom="raster")
</code></pre>


<br>

<p>
<img class="img-responsive"  src="index_files/plot.png" width="400">
</p>

<h3>plyr</h3>

<p>
데이터 구현 기능 패키지. [<a href="http://cran.r-project.org/web/packages/plyr/index.html" title="cran" class="http">cran</a>]
</p>
<pre><code class="r">&nbsp;# install.packages("plyr") #run this if you don't have the package already
&nbsp;library(plyr)
&nbsp;
&nbsp;#make some example data
&nbsp;dd&lt;-data.frame(matrix(rnorm(216),72,3),c(rep("A",24),rep("B",24),rep("C",24)),c(rep("J",36),rep("K",36)))
&nbsp;colnames(dd) &lt;- c("v1", "v2", "v3", "dim1", "dim2")
&nbsp;
&nbsp;#ddply is the plyr function
&nbsp;ddply(dd, c("dim1","dim2"), function(df)mean(df$v1))
</code></pre>


<pre>&gt; ddply(dd, c("dim1","dim2"), function(df)mean(df$v1))
  dim1 dim2          V1
1    A    J -0.31256496
2    B    J -0.09514053
3    B    K -0.19273687
4    C    K -0.03500908
</pre>

<br>

<h3>stringr</h3>

<p>
Sring 데이터 (문자열 데이터) 기능 패키지. [<a href="http://cran.r-project.org/web/packages/stringr/index.html" title="cran" class="http">cran</a>]
</p>

<pre><code class="r">&nbsp;# String Extract
&nbsp;shopping_list &lt;- c("Show", "flow", "Sugar", "milk")
&nbsp;str_extract(shopping_list, "[A-Z].*")
&nbsp;str_extract(shopping_list, "[a-z]{1,3}")
&nbsp;str_extract(shopping_list, "\\b[a-z]{1,4}\\b")
&nbsp;
&nbsp;# String Split
&nbsp;fruits &lt;- c(
&nbsp;	"apples and oranges and pears and bananas",
&nbsp;	"pineapples and mangos and guavas"
&nbsp;)
&nbsp;str_split(fruits, " and ")
&nbsp;str_split(fruits, " and ", n = 3) # Specify n to restrict the number of possible matches
&nbsp;str_split(fruits, " and ", n = 2) 
&nbsp;str_split(fruits, " and ", n = 5) # If n greater than number of pieces, no padding occurs
</code></pre>

<br>

<pre>&gt; # String Extract
&gt; shopping_list &lt;- c("Show", "flow", "Sugar", "milk")

&gt; str_extract(shopping_list, "[A-Z].*")
[1] "Show"  NA      "Sugar" NA     

&gt; str_extract(shopping_list, "[a-z]{1,3}")
[1] "how" "flo" "uga" "mil"

&gt; str_extract(shopping_list, "\\b[a-z]{1,4}\\b")
[1] NA     "flow" NA     "milk"


&gt; str_split(fruits, " and ")
[[1]]
[1] "apples"  "oranges" "pears"   "bananas"

[[2]]
[1] "pineapples" "mangos"     "guavas"    


&gt; str_split(fruits, " and ", n = 3) 
[[1]]
[1] "apples"            "oranges"           "pears and bananas"

[[2]]
[1] "pineapples" "mangos"     "guavas"    


&gt; str_split(fruits, " and ", n = 2) 
[[1]]
[1] "apples"                        "oranges and pears and bananas"

[[2]]
[1] "pineapples"        "mangos and guavas"


&gt; str_split(fruits, " and ", n = 5)
[[1]]
[1] "apples"  "oranges" "pears"   "bananas"

[[2]]
[1] "pineapples" "mangos"     "guavas"
</pre>

<br>
<br>
<br>

<h1>Reference</h1>

<p>
</p><ol class="list-bracket">
<li>What are the essential R packages? [<a href="http://www.quora.com/What-are-the-essential-R-packages" title="Link" class="http">Link</a>]</li>
<li>ggplot2 [<a href="http://docs.ggplot2.org/current/" title="Link" class="http">Link</a>]</li>
<li>A fast intro plyr for R [<a href="http://www.cerebralmastication.com/2009/08/a-fast-intro-to-plyr-for-r/" title="Link" class="http">Link</a>]</li>
                </ol>
<p></p>

<br>

           
            </div>


    </div>



    <div class="top"></div>




</body>


</html>